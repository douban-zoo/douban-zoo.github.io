import{g as z}from"./gsap-CH_iu5NA.js";import{R as In,V as Bt,G as Se,P as rt,S as Ie,M as U,a as Mt,b as kt,E as Mi,L as ki,F as Pi,c as Si,d as B,e as fe,f as I,B as At,A as Ii,g as Ti,h as Li,W as Ai,i as Hi,N as zi,D as Fi,T as Ri,j as cn,C as Pt,k as Di}from"./three-BTNCI9WD.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();(function(){try{const e=navigator.language||"",t=Intl.DateTimeFormat().resolvedOptions().timeZone||"",i=/^zh-CN/i.test(e)||t.includes("Shanghai")||t.includes("Beijing")?"https://gcore.jsdelivr.net/gh/douban-zoo/douban-zoo.github.io@gh-pages/":"./",r=document.createElement("base");r.href=i,document.head.appendChild(r)}catch{}})();const Tn=!1;var Ut=Array.isArray,Oi=Array.prototype.indexOf,jt=Array.from,at=Object.defineProperty,je=Object.getOwnPropertyDescriptor,Ln=Object.getOwnPropertyDescriptors,Ni=Object.prototype,Wi=Array.prototype,Zt=Object.getPrototypeOf,un=Object.isExtensible;function $i(e){return typeof e=="function"}const Y=()=>{};function Vi(e){return e()}function Ht(e){for(var t=0;t<e.length;t++)e[t]()}function Bi(){var e,t,n=new Promise((i,r)=>{e=i,t=r});return{promise:n,resolve:e,reject:t}}const $=2,qt=4,vt=8,Fe=16,ce=32,Ce=64,An=128,Z=256,lt=512,F=1024,q=2048,ue=4096,X=8192,Re=16384,gt=32768,mt=65536,fn=1<<17,Ui=1<<18,Gt=1<<19,Yt=1<<20,zt=1<<21,Xt=1<<22,ye=1<<23,Te=Symbol("$state"),ji=Symbol(""),Kt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Zi(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Hn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function qi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Gi(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Yi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Xi(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ki(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ji(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Qi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function er(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const _t=1,wt=2,zn=4,tr=8,nr=16,ir=4,rr=1,or=2,H=Symbol(),sr="http://www.w3.org/1999/xhtml";let ar=!1;function Fn(e){return e===this.v}function Rn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Dn(e){return!Rn(e,this.v)}let Ke=!1,lr=!1;function cr(){Ke=!0}let S=null;function ct(e){S=e}function yt(e,t=!1,n){S={p:S,c:null,e:null,s:e,x:null,l:Ke&&!t?{s:null,u:null,$:[]}:null}}function bt(e){var t=S,n=t.e;if(n!==null){t.e=null;for(var i of n)Kn(i)}return S=t.p,{}}function Je(){return!Ke||S!==null&&S.l===null}const ur=new WeakMap;function fr(e){var t=C;if(t===null)return k.f|=ye,e;if((t.f&gt)===0){if((t.f&An)===0)throw!t.parent&&e instanceof Error&&On(e),e;t.b.error(e)}else Jt(e,t)}function Jt(e,t){for(;t!==null;){if((t.f&An)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&On(e),e}function On(e){const t=ur.get(e);t&&(at(e,"message",{value:t.message}),at(e,"stack",{value:t.stack}))}let ut=[];function dr(){var e=ut;ut=[],Ht(e)}function xt(e){ut.length===0&&queueMicrotask(dr),ut.push(e)}function hr(){for(var e=C.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Zi(),e}function Qt(e){var t=$|q,n=k!==null&&(k.f&$)!==0?k:null;return C===null||n!==null&&(n.f&Z)!==0?t|=Z:C.f|=Gt,{ctx:S,deps:null,effects:null,equals:Fn,f:t,fn:e,reactions:null,rv:0,v:H,wv:0,parent:n??C,ac:null}}function pr(e,t){let n=C;n===null&&qi();var i=n.b,r=void 0,o=qe(H),s=null,l=!k;return Mr(()=>{try{var a=e()}catch(p){a=Promise.reject(p)}var c=()=>a;r=s?.then(c,c)??Promise.resolve(a),s=r;var u=L,d=i.pending;l&&(i.update_pending_count(1),d||u.increment());const f=(p,h=void 0)=>{s=null,d||u.activate(),h?h!==Kt&&(o.f|=ye,Ge(o,h)):((o.f&ye)!==0&&(o.f^=ye),Ge(o,p)),l&&(i.update_pending_count(-1),d||u.decrement()),Vn()};if(r.then(f,p=>f(null,p||"unknown")),u)return()=>{queueMicrotask(()=>u.neuter())}}),new Promise(a=>{function c(u){function d(){u===r?a(o):c(r)}u.then(d,d)}c(r)})}function Nn(e){const t=Qt(e);return t.equals=Dn,t}function Wn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)le(t[n])}}function vr(e){for(var t=e.parent;t!==null;){if((t.f&$)===0)return t;t=t.parent}return null}function en(e){var t,n=C;ge(vr(e));try{Wn(e),t=ui(e)}finally{ge(n)}return t}function $n(e){var t=en(e);if(e.equals(t)||(e.v=t,e.wv=li()),!De)if(He!==null)He.set(e,e.v);else{var n=(ve||(e.f&Z)!==0)&&e.deps!==null?ue:F;N(e,n)}}function gr(e,t,n){const i=Je()?Qt:Nn;if(t.length===0){n(e.map(i));return}var r=L,o=C,s=mr(),l=hr();Promise.all(t.map(a=>pr(a))).then(a=>{r?.activate(),s();try{n([...e.map(i),...a])}catch(c){(o.f&Re)===0&&Jt(c,o)}r?.deactivate(),Vn()}).catch(a=>{l.error(a)})}function mr(){var e=C,t=k,n=S;return function(){ge(e),ne(t),ct(n)}}function Vn(){ge(null),ne(null),ct(null)}const We=new Set;let L=null,He=null,dn=new Set,ft=[];function Bn(){const e=ft.shift();ft.length>0&&queueMicrotask(Bn),e()}let Ze=[],tn=null,Ft=!1;class ze{current=new Map;#r=new Map;#o=new Set;#e=0;#c=null;#u=!1;#n=[];#s=[];#i=[];#t=[];#a=[];#f=[];#d=[];skipped_effects=new Set;process(t){Ze=[];var n=null;if(We.size>1){n=new Map,He=new Map;for(const[o,s]of this.current)n.set(o,{v:o.v,wv:o.wv}),o.v=s;for(const o of We)if(o!==this)for(const[s,l]of o.#r)n.has(s)||(n.set(s,{v:s.v,wv:s.wv}),s.v=l)}for(const o of t)this.#p(o);if(this.#n.length===0&&this.#e===0){this.#h();var i=this.#i,r=this.#t;this.#i=[],this.#t=[],this.#a=[],L=null,hn(i),hn(r),L===null?L=this:We.delete(this),this.#c?.resolve()}else this.#l(this.#i),this.#l(this.#t),this.#l(this.#a);if(n){for(const[o,{v:s,wv:l}]of n)o.wv<=l&&(o.v=s);He=null}for(const o of this.#n)Ae(o);for(const o of this.#s)Ae(o);this.#n=[],this.#s=[]}#p(t){t.f^=F;for(var n=t.first;n!==null;){var i=n.f,r=(i&(ce|Ce))!==0,o=r&&(i&F)!==0,s=o||(i&X)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(r)n.f^=F;else if((i&F)===0)if((i&qt)!==0)this.#t.push(n);else if((i&Xt)!==0){var l=n.b?.pending?this.#s:this.#n;l.push(n)}else et(n)&&((n.f&Fe)!==0&&this.#a.push(n),Ae(n));var a=n.first;if(a!==null){n=a;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}}#l(t){for(const n of t)((n.f&q)!==0?this.#f:this.#d).push(n),N(n,F);t.length=0}capture(t,n){this.#r.has(t)||this.#r.set(t,n),this.current.set(t,t.v)}activate(){L=this}deactivate(){L=null;for(const t of dn)if(dn.delete(t),t(),L!==null)break}neuter(){this.#u=!0}flush(){Ze.length>0?_r():this.#h(),L===this&&(this.#e===0&&We.delete(this),this.deactivate())}#h(){if(!this.#u)for(const t of this.#o)t();this.#o.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#f)N(t,q),Ee(t);for(const t of this.#d)N(t,ue),Ee(t);this.#i=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#o.add(t)}settled(){return(this.#c??=Bi()).promise}static ensure(){if(L===null){const t=L=new ze;We.add(L),ze.enqueue(()=>{L===t&&t.flush()})}return L}static enqueue(t){ft.length===0&&queueMicrotask(Bn),ft.unshift(t)}}function _r(){var e=Le;Ft=!0;try{var t=0;for(vn(!0);Ze.length>0;){var n=ze.ensure();if(t++>1e3){var i,r;wr()}n.process(Ze),be.clear()}}finally{Ft=!1,vn(e),tn=null}}function wr(){try{Ki()}catch(e){Jt(e,tn)}}function hn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var i=e[n++];if((i.f&(Re|X))===0&&et(i)){var r=L?L.current.size:0;if(Ae(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null&&i.ac===null?ri(i):i.fn=null),L!==null&&L.current.size>r&&(i.f&Yt)!==0)break}}for(;n<t;)Ee(e[n++])}}function Ee(e){for(var t=tn=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ft&&t===C&&(n&Fe)!==0)return;if((n&(Ce|ce))!==0){if((n&F)===0)return;t.f^=F}}Ze.push(t)}const be=new Map;function qe(e,t){var n={f:0,v:e,reactions:null,equals:Fn,rv:0,wv:0};return n}function de(e,t){const n=qe(e);return Pr(n),n}function Q(e,t=!1,n=!0){const i=qe(e);return t||(i.equals=Dn),Ke&&n&&S!==null&&S.l!==null&&(S.l.s??=[]).push(i),i}function A(e,t,n=!1){k!==null&&(!ee||(k.f&fn)!==0)&&Je()&&(k.f&($|Fe|Xt|fn))!==0&&!ae?.includes(e)&&er();let i=n?Ve(t):t;return Ge(e,i)}function Ge(e,t){if(!e.equals(t)){var n=e.v;De?be.set(e,t):be.set(e,n),e.v=t;var i=ze.ensure();i.capture(e,n),(e.f&$)!==0&&((e.f&q)!==0&&en(e),N(e,(e.f&Z)===0?F:ue)),e.wv=li(),Un(e,q),Je()&&C!==null&&(C.f&F)!==0&&(C.f&(ce|Ce))===0&&(V===null?Sr([e]):V.push(e))}return t}function St(e){A(e,e.v+1)}function Un(e,t){var n=e.reactions;if(n!==null)for(var i=Je(),r=n.length,o=0;o<r;o++){var s=n[o],l=s.f;if(!(!i&&s===C)){var a=(l&q)===0;a&&N(s,t),(l&$)!==0?Un(s,ue):a&&Ee(s)}}}function Ve(e){if(typeof e!="object"||e===null||Te in e)return e;const t=Zt(e);if(t!==Ni&&t!==Wi)return e;var n=new Map,i=Ut(e),r=de(0),o=xe,s=l=>{if(xe===o)return l();var a=k,c=xe;ne(null),mn(o);var u=l();return ne(a),mn(c),u};return i&&n.set("length",de(e.length)),new Proxy(e,{defineProperty(l,a,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Ji();var u=n.get(a);return u===void 0?u=s(()=>{var d=de(c.value);return n.set(a,d),d}):A(u,c.value,!0),!0},deleteProperty(l,a){var c=n.get(a);if(c===void 0){if(a in l){const u=s(()=>de(H));n.set(a,u),St(r)}}else A(c,H),St(r);return!0},get(l,a,c){if(a===Te)return e;var u=n.get(a),d=a in l;if(u===void 0&&(!d||je(l,a)?.writable)&&(u=s(()=>{var p=Ve(d?l[a]:H),h=de(p);return h}),n.set(a,u)),u!==void 0){var f=b(u);return f===H?void 0:f}return Reflect.get(l,a,c)},getOwnPropertyDescriptor(l,a){var c=Reflect.getOwnPropertyDescriptor(l,a);if(c&&"value"in c){var u=n.get(a);u&&(c.value=b(u))}else if(c===void 0){var d=n.get(a),f=d?.v;if(d!==void 0&&f!==H)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(l,a){if(a===Te)return!0;var c=n.get(a),u=c!==void 0&&c.v!==H||Reflect.has(l,a);if(c!==void 0||C!==null&&(!u||je(l,a)?.writable)){c===void 0&&(c=s(()=>{var f=u?Ve(l[a]):H,p=de(f);return p}),n.set(a,c));var d=b(c);if(d===H)return!1}return u},set(l,a,c,u){var d=n.get(a),f=a in l;if(i&&a==="length")for(var p=c;p<d.v;p+=1){var h=n.get(p+"");h!==void 0?A(h,H):p in l&&(h=s(()=>de(H)),n.set(p+"",h))}if(d===void 0)(!f||je(l,a)?.writable)&&(d=s(()=>de(void 0)),A(d,Ve(c)),n.set(a,d));else{f=d.v!==H;var v=s(()=>Ve(c));A(d,v)}var g=Reflect.getOwnPropertyDescriptor(l,a);if(g?.set&&g.set.call(u,c),!f){if(i&&typeof a=="string"){var y=n.get("length"),m=Number(a);Number.isInteger(m)&&m>=y.v&&A(y,m+1)}St(r)}return!0},ownKeys(l){b(r);var a=Reflect.ownKeys(l).filter(d=>{var f=n.get(d);return f===void 0||f.v!==H});for(var[c,u]of n)u.v!==H&&!(c in l)&&a.push(c);return a},setPrototypeOf(){Qi()}})}var pn,jn,Zn,qn;function yr(){if(pn===void 0){pn=window,jn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Zn=je(t,"firstChild").get,qn=je(t,"nextSibling").get,un(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),un(n)&&(n.__t=void 0)}}function Qe(e=""){return document.createTextNode(e)}function pe(e){return Zn.call(e)}function Et(e){return qn.call(e)}function J(e,t){return pe(e)}function ot(e,t){{var n=pe(e);return n instanceof Comment&&n.data===""?Et(n):n}}function te(e,t=1,n=!1){let i=e;for(;t--;)i=Et(i);return i}function br(e){e.textContent=""}function Gn(){return!1}function Yn(e){C===null&&k===null&&Xi(),k!==null&&(k.f&Z)!==0&&C===null&&Yi(),De&&Gi()}function xr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ie(e,t,n,i=!0){var r=C;r!==null&&(r.f&X)!==0&&(e|=X);var o={ctx:S,deps:null,nodes_start:null,nodes_end:null,f:e|q,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ae(o),o.f|=gt}catch(a){throw le(o),a}else t!==null&&Ee(o);var s=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&Gt)===0;if(!s&&i&&(r!==null&&xr(o,r),k!==null&&(k.f&$)!==0&&(e&Ce)===0)){var l=k;(l.effects??=[]).push(o)}return o}function Xn(e){const t=ie(vt,null,!1);return N(t,F),t.teardown=e,t}function Rt(e){Yn();var t=C.f,n=!k&&(t&ce)!==0&&(t&gt)===0;if(n){var i=S;(i.e??=[]).push(e)}else return Kn(e)}function Kn(e){return ie(qt|Yt,e,!1)}function Er(e){return Yn(),ie(vt|Yt,e,!0)}function Cr(e){ze.ensure();const t=ie(Ce,e,!0);return(n={})=>new Promise(i=>{n.outro?rn(t,()=>{le(t),i(void 0)}):(le(t),i(void 0))})}function Jn(e){return ie(qt,e,!1)}function Be(e,t){var n=S,i={effect:null,ran:!1,deps:e};n.l.$.push(i),i.effect=nn(()=>{e(),!i.ran&&(i.ran=!0,me(t))})}function Qn(){var e=S;nn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&F)!==0&&N(n,ue),et(n)&&Ae(n),t.ran=!1}})}function Mr(e){return ie(Xt|Gt,e,!0)}function nn(e,t=0){return ie(vt|t,e,!0)}function dt(e,t=[],n=[]){gr(t,n,i=>{ie(vt,()=>e(...i.map(b)),!0)})}function ei(e,t=0){var n=ie(Fe|t,e,!0);return n}function Ye(e,t=!0){return ie(ce,e,!0,t)}function ti(e){var t=e.teardown;if(t!==null){const n=De,i=k;gn(!0),ne(null);try{t.call(null)}finally{gn(n),ne(i)}}}function ni(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){n.ac?.abort(Kt);var i=n.next;(n.f&Ce)!==0?n.parent=null:le(n,t),n=i}}function kr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ce)===0&&le(t),t=n}}function le(e,t=!0){var n=!1;(t||(e.f&Ui)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ii(e.nodes_start,e.nodes_end),n=!0),ni(e,t&&!n),ht(e,0),N(e,Re);var i=e.transitions;if(i!==null)for(const o of i)o.stop();ti(e);var r=e.parent;r!==null&&r.first!==null&&ri(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ii(e,t){for(;e!==null;){var n=e===t?null:Et(e);e.remove(),e=n}}function ri(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function rn(e,t){var n=[];on(e,n,!0),oi(n,()=>{le(e),t&&t()})}function oi(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var r of e)r.out(i)}else t()}function on(e,t,n){if((e.f&X)===0){if(e.f^=X,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var i=e.first;i!==null;){var r=i.next,o=(i.f&mt)!==0||(i.f&ce)!==0;on(i,t,o?n:!1),i=r}}}function sn(e){si(e,!0)}function si(e,t){if((e.f&X)!==0){e.f^=X,(e.f&F)===0&&(N(e,q),Ee(e));for(var n=e.first;n!==null;){var i=n.next,r=(n.f&mt)!==0||(n.f&ce)!==0;si(n,r?t:!1),n=i}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Le=!1;function vn(e){Le=e}let De=!1;function gn(e){De=e}let k=null,ee=!1;function ne(e){k=e}let C=null;function ge(e){C=e}let ae=null;function Pr(e){k!==null&&(ae===null?ae=[e]:ae.push(e))}let O=null,W=0,V=null;function Sr(e){V=e}let ai=1,Xe=0,xe=Xe;function mn(e){xe=e}let ve=!1;function li(){return++ai}function et(e){var t=e.f;if((t&q)!==0)return!0;if((t&ue)!==0){var n=e.deps,i=(t&Z)!==0;if(n!==null){var r,o,s=(t&lt)!==0,l=i&&C!==null&&!ve,a=n.length;if((s||l)&&(C===null||(C.f&Re)===0)){var c=e,u=c.parent;for(r=0;r<a;r++)o=n[r],(s||!o?.reactions?.includes(c))&&(o.reactions??=[]).push(c);s&&(c.f^=lt),l&&u!==null&&(u.f&Z)===0&&(c.f^=Z)}for(r=0;r<a;r++)if(o=n[r],et(o)&&$n(o),o.wv>e.wv)return!0}(!i||C!==null&&!ve)&&N(e,F)}return!1}function ci(e,t,n=!0){var i=e.reactions;if(i!==null&&!ae?.includes(e))for(var r=0;r<i.length;r++){var o=i[r];(o.f&$)!==0?ci(o,t,!1):t===o&&(n?N(o,q):(o.f&F)!==0&&N(o,ue),Ee(o))}}function ui(e){var t=O,n=W,i=V,r=k,o=ve,s=ae,l=S,a=ee,c=xe,u=e.f;O=null,W=0,V=null,ve=(u&Z)!==0&&(ee||!Le||k===null),k=(u&(ce|Ce))===0?e:null,ae=null,ct(e.ctx),ee=!1,xe=++Xe,e.ac!==null&&(e.ac.abort(Kt),e.ac=null);try{e.f|=zt;var d=(0,e.fn)(),f=e.deps;if(O!==null){var p;if(ht(e,W),f!==null&&W>0)for(f.length=W+O.length,p=0;p<O.length;p++)f[W+p]=O[p];else e.deps=f=O;if(!ve||(u&$)!==0&&e.reactions!==null)for(p=W;p<f.length;p++)(f[p].reactions??=[]).push(e)}else f!==null&&W<f.length&&(ht(e,W),f.length=W);if(Je()&&V!==null&&!ee&&f!==null&&(e.f&($|ue|q))===0)for(p=0;p<V.length;p++)ci(V[p],e);return r!==null&&r!==e&&(Xe++,V!==null&&(i===null?i=V:i.push(...V))),(e.f&ye)!==0&&(e.f^=ye),d}catch(h){return fr(h)}finally{e.f^=zt,O=t,W=n,V=i,k=r,ve=o,ae=s,ct(l),ee=a,xe=c}}function Ir(e,t){let n=t.reactions;if(n!==null){var i=Oi.call(n,e);if(i!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[i]=n[r],n.pop())}}n===null&&(t.f&$)!==0&&(O===null||!O.includes(t))&&(N(t,ue),(t.f&(Z|lt))===0&&(t.f^=lt),Wn(t),ht(t,0))}function ht(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)Ir(e,n[i])}function Ae(e){var t=e.f;if((t&Re)===0){N(e,F);var n=C,i=Le;C=e,Le=!0;try{(t&Fe)!==0?kr(e):ni(e),ti(e);var r=ui(e);e.teardown=typeof r=="function"?r:null,e.wv=ai;var o;Tn&&lr&&(e.f&q)!==0&&e.deps}finally{Le=i,C=n}}}function b(e){var t=e.f,n=(t&$)!==0;if(k!==null&&!ee){var i=C!==null&&(C.f&Re)!==0;if(!i&&!ae?.includes(e)){var r=k.deps;if((k.f&zt)!==0)e.rv<Xe&&(e.rv=Xe,O===null&&r!==null&&r[W]===e?W++:O===null?O=[e]:(!ve||!O.includes(e))&&O.push(e));else{(k.deps??=[]).push(e);var o=e.reactions;o===null?e.reactions=[k]:o.includes(k)||o.push(k)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&Z)===0&&(s.f^=Z)}if(De){if(be.has(e))return be.get(e);if(n){s=e;var a=s.v;return((s.f&F)===0&&s.reactions!==null||fi(s))&&(a=en(s)),be.set(s,a),a}}else if(n){if(s=e,He?.has(s))return He.get(s);et(s)&&$n(s)}if((e.f&ye)!==0)throw e.v;return e.v}function fi(e){if(e.v===H)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(be.has(t)||(t.f&$)!==0&&fi(t))return!0;return!1}function me(e){var t=ee;try{return ee=!0,e()}finally{ee=t}}const Tr=-7169;function N(e,t){e.f=e.f&Tr|t}function Lr(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Te in e)Dt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Te in n&&Dt(n)}}}function Dt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{Dt(e[i],t)}catch{}const n=Zt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const i=Ln(n);for(let r in i){const o=i[r].get;if(o)try{o.call(e)}catch{}}}}}const Ar=["touchstart","touchmove"];function Hr(e){return Ar.includes(e)}function an(e){var t=k,n=C;ne(null),ge(null);try{return e()}finally{ne(t),ge(n)}}const zr=new Set,_n=new Set;function Fr(e,t,n,i={}){function r(o){if(i.capture||Ue.call(t,o),!o.cancelBubble)return an(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?xt(()=>{t.addEventListener(e,r,i)}):t.addEventListener(e,r,i),r}function he(e,t,n,i,r){var o={capture:i,passive:r},s=Fr(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Xn(()=>{t.removeEventListener(e,s,o)})}let wn=null;function Ue(e){var t=this,n=t.ownerDocument,i=e.type,r=e.composedPath?.()||[],o=r[0]||e.target;wn=e;var s=0,l=wn===e&&e.__root;if(l){var a=r.indexOf(l);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var c=r.indexOf(t);if(c===-1)return;a<=c&&(s=a)}if(o=r[s]||e.target,o!==t){at(e,"currentTarget",{configurable:!0,get(){return o||n}});var u=k,d=C;ne(null),ge(null);try{for(var f,p=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var v=o["__"+i];if(v!=null&&(!o.disabled||e.target===o))if(Ut(v)){var[g,...y]=v;g.apply(o,[e,...y])}else v.call(o,e)}catch(m){f?p.push(m):f=m}if(e.cancelBubble||h===t||h===null)break;o=h}if(f){for(let m of p)queueMicrotask(()=>{throw m});throw f}}finally{e.__root=t,delete e.currentTarget,ne(u),ge(d)}}}function di(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function pt(e,t){var n=C;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function re(e,t){var n=(t&rr)!==0,i=(t&or)!==0,r,o=!e.startsWith("<!>");return()=>{r===void 0&&(r=di(o?e:"<!>"+e),n||(r=pe(r)));var s=i||jn?document.importNode(r,!0):r.cloneNode(!0);if(n){var l=pe(s),a=s.lastChild;pt(l,a)}else pt(s,s);return s}}function hi(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Qe();return e.append(t,n),pt(t,n),e}function j(e,t){e!==null&&e.before(t)}let Ot=!0;function yn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Rr(e,t){return Dr(e,t)}const ke=new Map;function Dr(e,{target:t,anchor:n,props:i={},events:r,context:o,intro:s=!0}){yr();var l=new Set,a=d=>{for(var f=0;f<d.length;f++){var p=d[f];if(!l.has(p)){l.add(p);var h=Hr(p);t.addEventListener(p,Ue,{passive:h});var v=ke.get(p);v===void 0?(document.addEventListener(p,Ue,{passive:h}),ke.set(p,1)):ke.set(p,v+1)}}};a(jt(zr)),_n.add(a);var c=void 0,u=Cr(()=>{var d=n??t.appendChild(Qe());return Ye(()=>{if(o){yt({});var f=S;f.c=o}r&&(i.$$events=r),Ot=s,c=e(d,i)||{},Ot=!0,o&&bt()}),()=>{for(var f of l){t.removeEventListener(f,Ue);var p=ke.get(f);--p===0?(document.removeEventListener(f,Ue),ke.delete(f)):ke.set(f,p)}_n.delete(a),d!==n&&d.parentNode?.removeChild(d)}});return Or.set(c,u),c}let Or=new WeakMap;function Nt(e,t,n=!1){var i=e,r=null,o=null,s=H,l=n?mt:0,a=!1;const c=(p,h=!0)=>{a=!0,f(h,p)};var u=null;function d(){u!==null&&(u.lastChild.remove(),i.before(u),u=null);var p=s?r:o,h=s?o:r;p&&sn(p),h&&rn(h,()=>{s?o=null:r=null})}const f=(p,h)=>{if(s!==(s=p)){var v=Gn(),g=i;if(v&&(u=document.createDocumentFragment(),u.append(g=Qe())),s?r??=h&&Ye(()=>h(g)):o??=h&&Ye(()=>h(g)),v){var y=L,m=s?r:o,_=s?o:r;m&&y.skipped_effects.delete(m),_&&y.skipped_effects.add(_),y.add_callback(d)}else d()}};ei(()=>{a=!1,t(c),a||f(null,null)},l)}function It(e,t){return t}function Nr(e,t,n){for(var i=e.items,r=[],o=t.length,s=0;s<o;s++)on(t[s].e,r,!0);var l=o>0&&r.length===0&&n!==null;if(l){var a=n.parentNode;br(a),a.append(n),i.clear(),K(e,t[0].prev,t[o-1].next)}oi(r,()=>{for(var c=0;c<o;c++){var u=t[c];l||(i.delete(u.k),K(e,u.prev,u.next)),le(u.e,!l)}})}function Tt(e,t,n,i,r,o=null){var s=e,l={flags:t,items:new Map,first:null},a=(t&zn)!==0;if(a){var c=e;s=c.appendChild(Qe())}var u=null,d=!1,f=new Map,p=Nn(()=>{var y=n();return Ut(y)?y:y==null?[]:jt(y)}),h,v;function g(){Wr(v,h,l,f,s,r,t,i,n),o!==null&&(h.length===0?u?sn(u):u=Ye(()=>o(s)):u!==null&&rn(u,()=>{u=null}))}ei(()=>{v??=C,h=b(p);var y=h.length;if(!(d&&y===0)){d=y===0;var m,_,P,x;if(Gn()){var w=new Set,M=L;for(_=0;_<y;_+=1){P=h[_],x=i(P,_);var T=l.items.get(x)??f.get(x);T?(t&(_t|wt))!==0&&pi(T,P,_,t):(m=vi(null,l,null,null,P,x,_,r,t,n,!0),f.set(x,m)),w.add(x)}for(const[R,_e]of l.items)w.has(R)||M.skipped_effects.add(_e.e);M.add_callback(g)}else g();b(p)}})}function Wr(e,t,n,i,r,o,s,l,a){var c=(s&tr)!==0,u=(s&(_t|wt))!==0,d=t.length,f=n.items,p=n.first,h=p,v,g=null,y,m=[],_=[],P,x,w,M;if(c)for(M=0;M<d;M+=1)P=t[M],x=l(P,M),w=f.get(x),w!==void 0&&(w.a?.measure(),(y??=new Set).add(w));for(M=0;M<d;M+=1){if(P=t[M],x=l(P,M),w=f.get(x),w===void 0){var T=i.get(x);if(T!==void 0){i.delete(x),f.set(x,T);var R=g?g.next:h;K(n,g,T),K(n,T,R),Lt(T,R,r),g=T}else{var _e=h?h.e.nodes_start:r;g=vi(_e,n,g,g===null?n.first:g.next,P,x,M,o,s,a)}f.set(x,g),m=[],_=[],h=g.next;continue}if(u&&pi(w,P,M,s),(w.e.f&X)!==0&&(sn(w.e),c&&(w.a?.unfix(),(y??=new Set).delete(w))),w!==h){if(v!==void 0&&v.has(w)){if(m.length<_.length){var Oe=_[0],G;g=Oe.prev;var tt=m[0],Ne=m[m.length-1];for(G=0;G<m.length;G+=1)Lt(m[G],Oe,r);for(G=0;G<_.length;G+=1)v.delete(_[G]);K(n,tt.prev,Ne.next),K(n,g,tt),K(n,Ne,Oe),h=Oe,g=Ne,M-=1,m=[],_=[]}else v.delete(w),Lt(w,h,r),K(n,w.prev,w.next),K(n,w,g===null?n.first:g.next),K(n,g,w),g=w;continue}for(m=[],_=[];h!==null&&h.k!==x;)(h.e.f&X)===0&&(v??=new Set).add(h),_.push(h),h=h.next;if(h===null)continue;w=h}m.push(w),g=w,h=w.next}if(h!==null||v!==void 0){for(var we=v===void 0?[]:jt(v);h!==null;)(h.e.f&X)===0&&we.push(h),h=h.next;var Me=we.length;if(Me>0){var Ct=(s&zn)!==0&&d===0?r:null;if(c){for(M=0;M<Me;M+=1)we[M].a?.measure();for(M=0;M<Me;M+=1)we[M].a?.fix()}Nr(n,we,Ct)}}c&&xt(()=>{if(y!==void 0)for(w of y)w.a?.apply()}),e.first=n.first&&n.first.e,e.last=g&&g.e;for(var Ci of i.values())le(Ci.e);i.clear()}function pi(e,t,n,i){(i&_t)!==0&&Ge(e.v,t),(i&wt)!==0?Ge(e.i,n):e.i=n}function vi(e,t,n,i,r,o,s,l,a,c,u){var d=(a&_t)!==0,f=(a&nr)===0,p=d?f?Q(r,!1,!1):qe(r):r,h=(a&wt)===0?s:qe(s),v={i:h,v:p,k:o,a:null,e:null,prev:n,next:i};try{if(e===null){var g=document.createDocumentFragment();g.append(e=Qe())}return v.e=Ye(()=>l(e,p,h,c),ar),v.e.prev=n&&n.e,v.e.next=i&&i.e,n===null?u||(t.first=v):(n.next=v,n.e.next=v.e),i!==null&&(i.prev=v,i.e.prev=v.e),v}finally{}}function Lt(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,r=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==i;){var s=Et(o);r.before(o),o=s}}function K(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function bn(e,t,n=!1,i=!1,r=!1){var o=e,s="";dt(()=>{var l=C;if(s!==(s=t()??"")&&(l.nodes_start!==null&&(ii(l.nodes_start,l.nodes_end),l.nodes_start=l.nodes_end=null),s!=="")){var a=s+"";n?a=`<svg>${a}</svg>`:i&&(a=`<math>${a}</math>`);var c=di(a);if((n||i)&&(c=pe(c)),pt(pe(c),c.lastChild),n||i)for(;pe(c);)o.before(pe(c));else o.before(c)}})}const $r=Symbol("is custom element"),Vr=Symbol("is html");function gi(e,t,n,i){var r=Br(e);r[t]!==(r[t]=n)&&(t==="loading"&&(e[ji]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ur(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Br(e){return e.__attributes??={[$r]:e.nodeName.includes("-"),[Vr]:e.namespaceURI===sr}}var xn=new Map;function Ur(e){var t=xn.get(e.nodeName);if(t)return t;xn.set(e.nodeName,t=[]);for(var n,i=e,r=Element.prototype;r!==i;){n=Ln(i);for(var o in n)n[o].set&&t.push(o);i=Zt(i)}return t}const jr=()=>performance.now(),oe={tick:e=>requestAnimationFrame(e),now:()=>jr(),tasks:new Set};function mi(){const e=oe.now();oe.tasks.forEach(t=>{t.c(e)||(oe.tasks.delete(t),t.f())}),oe.tasks.size!==0&&oe.tick(mi)}function Zr(e){let t;return oe.tasks.size===0&&oe.tick(mi),{promise:new Promise(n=>{oe.tasks.add(t={c:e,f:n})}),abort(){oe.tasks.delete(t)}}}function nt(e,t){an(()=>{e.dispatchEvent(new CustomEvent(t))})}function qr(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function En(e){const t={},n=e.split(";");for(const i of n){const[r,o]=i.split(":");if(!r||o===void 0)break;const s=qr(r.trim());t[s]=o.trim()}return t}const Gr=e=>e;function Wt(e,t,n,i){var r=(e&ir)!==0,o="both",s,l=t.inert,a=t.style.overflow,c,u;function d(){return an(()=>s??=n()(t,i?.()??{},{direction:o}))}var f={is_global:r,in(){t.inert=l,nt(t,"introstart"),c=$t(t,d(),u,1,()=>{nt(t,"introend"),c?.abort(),c=s=void 0,t.style.overflow=a})},out(g){t.inert=!0,nt(t,"outrostart"),u=$t(t,d(),c,0,()=>{nt(t,"outroend"),g?.()})},stop:()=>{c?.abort(),u?.abort()}},p=C;if((p.transitions??=[]).push(f),Ot){var h=r;if(!h){for(var v=p.parent;v&&(v.f&mt)!==0;)for(;(v=v.parent)&&(v.f&Fe)===0;);h=!v||(v.f&gt)!==0}h&&Jn(()=>{me(()=>f.in())})}}function $t(e,t,n,i,r){var o=i===1;if($i(t)){var s,l=!1;return xt(()=>{if(!l){var g=t({direction:o?"in":"out"});s=$t(e,g,n,i,r)}}),{abort:()=>{l=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(n?.deactivate(),!t?.duration)return r(),{abort:Y,deactivate:Y,reset:Y,t:()=>i};const{delay:a=0,css:c,tick:u,easing:d=Gr}=t;var f=[];if(o&&n===void 0&&(u&&u(0,1),c)){var p=En(c(0,1));f.push(p,p)}var h=()=>1-i,v=e.animate(f,{duration:a,fill:"forwards"});return v.onfinish=()=>{v.cancel();var g=n?.t()??1-i;n?.abort();var y=i-g,m=t.duration*Math.abs(y),_=[];if(m>0){var P=!1;if(c)for(var x=Math.ceil(m/16.666666666666668),w=0;w<=x;w+=1){var M=g+y*d(w/x),T=En(c(M,1-M));_.push(T),P||=T.overflow==="hidden"}P&&(e.style.overflow="hidden"),h=()=>{var R=v.currentTime;return g+y*d(R/m)},u&&Zr(()=>{if(v.playState!=="running")return!1;var R=h();return u(R,1-R),!0})}v=e.animate(_,{duration:m,fill:"forwards"}),v.onfinish=()=>{h=()=>i,u?.(i,1-i),r()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=Y)},deactivate:()=>{r=Y},reset:()=>{i===0&&u?.(1,0)},t:()=>h()}}function Cn(e,t){return e===t||e?.[Te]===t}function _i(e={},t,n,i){return Jn(()=>{var r,o;return nn(()=>{r=o,o=[],me(()=>{e!==n(...o)&&(t(e,...o),r&&Cn(n(...r),e)&&t(null,...r))})}),()=>{xt(()=>{o&&Cn(n(...o),e)&&t(null,...o)})}}),e}function wi(e=!1){const t=S,n=t.l.u;if(!n)return;let i=()=>Lr(t.s);if(e){let r=0,o={};const s=Qt(()=>{let l=!1;const a=t.s;for(const c in a)a[c]!==o[c]&&(o[c]=a[c],l=!0);return l&&r++,r});i=()=>b(s)}n.b.length&&Er(()=>{Mn(t,i),Ht(n.b)}),Rt(()=>{const r=me(()=>n.m.map(Vi));return()=>{for(const o of r)typeof o=="function"&&o()}}),n.a.length&&Rt(()=>{Mn(t,i),Ht(n.a)})}function Mn(e,t){if(e.l.s)for(const n of e.l.s)b(n);t()}function yi(e,t,n){if(e==null)return t(void 0),Y;const i=me(()=>e.subscribe(t,n));return i.unsubscribe?()=>i.unsubscribe():i}const Pe=[];function Yr(e,t=Y){let n=null;const i=new Set;function r(l){if(Rn(e,l)&&(e=l,n)){const a=!Pe.length;for(const c of i)c[1](),Pe.push(c,e);if(a){for(let c=0;c<Pe.length;c+=2)Pe[c][0](Pe[c+1]);Pe.length=0}}}function o(l){r(l(e))}function s(l,a=Y){const c=[l,a];return i.add(c),i.size===1&&(n=t(r,o)||Y),l(e),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:s}}function st(e){let t;return yi(e,n=>t=n)(),t}let Vt=Symbol();function bi(e,t,n){const i=n[t]??={store:null,source:Q(void 0),unsubscribe:Y};if(i.store!==e&&!(Vt in n))if(i.unsubscribe(),i.store=e??null,e==null)i.source.v=void 0,i.unsubscribe=Y;else{var r=!0;i.unsubscribe=yi(e,o=>{r?i.source.v=o:A(i.source,o)}),r=!1}return e&&Vt in n?st(e):b(i.source)}function xi(){const e={};function t(){Xn(()=>{for(var n in e)e[n].unsubscribe();at(e,Vt,{enumerable:!1,value:!0})})}return[e,t]}function ln(e){S===null&&Hn(),Ke&&S.l!==null?Kr(S).m.push(e):Rt(()=>{const t=me(e);if(typeof t=="function")return t})}function Xr(e){S===null&&Hn(),ln(()=>()=>me(e))}function Kr(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Jr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Jr);cr();const Qr="modulepreload",eo=function(e,t){return new URL(e,t).href},kn={},to=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),a=l?.nonce||l?.getAttribute("nonce");r=c(n.map(u=>{if(u=eo(u,i),u in kn)return;kn[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!i)for(let v=s.length-1;v>=0;v--){const g=s[v];if(g.href===u&&(!d||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Qr,d||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),d)return new Promise((v,g)=>{h.addEventListener("load",v),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};function no(){try{const e=navigator.language||"",t=Intl.DateTimeFormat().resolvedOptions().timeZone||"";return/^zh-CN/i.test(e)||t.includes("Shanghai")||t.includes("Beijing")?"https://gcore.jsdelivr.net/gh/douban-zoo/douban-zoo.github.io@gh-pages/":"./"}catch{return"./"}}const io=e=>no()+e.replace(/^\/+/,""),E={numPages:6,pageWidth:2.5,pageHeight:3,pageDepth:.02,dragSensitivity:.15,snapDuration:.8},ro=["cover","meidi","jongjong","pupu","tianchengzi","xuguanghan"],oo=["",`绝育帅气男狗，情绪稳定，心态良好，比起同类更喜欢人类，比起人类更喜欢食物类
在路上听到有人说自己可爱会迅速凑过去坐下等摸摸
吃过的东西包括：士力架，好丽友，玉米芯，玉米肠，鸡枞菌，生腊肉（两块），六婆辣椒面，护手霜（？），该名单持续增长中
喜欢有靠背的角落，喜欢安全感，讨厌水，讨厌下雨，讨厌柴犬（？）
偶尔会被柴犬无差别辱骂，但最好的朋友是一只小黑柴`,`角色：囧囧
阵营：混乱可爱（Chaotic Adorable）
职业：中华田园猫 Lv.6
属性：魅力 CHA：+2（不怕陌生人，除非个子太高）
敏捷 DEX：+3（迅速一溜烟躲进床底）
力量 STR：+1（梆梆响的猫猫拳）
感知 WIS：-1（读不懂空气，情绪感知弱）
智力 INT：+2（能掌握新的智力玩具和按钮）
体质 CON：+1（皮实小土猫）
技能：贴贴：熄灯后必跳上妈妈胸口咕噜噜，流口水概率35%。
守望：看见零食或游戏即将开始时，直接进入呼噜待机状态。
妈妈雷达：妈妈离开60秒后自动触发寻人模式。
玩偶模拟：高处跳下时，落地瞬间自动发出“哼唧”声。
智力判定：识别指令“亲亲”，但有50%概率假装执行以便逃脱。`,`几乎全勤打工的ESFJ产品狗
喜欢和每个与她对视的人类玩耍，对马杀鸡手法优异的人类格外青睐
喜欢吃公司（自由采摘的）植物和（下午茶专供的）水果
喜欢玩巡回和拔河，玩游戏全力以赴并且喜欢自己给自己打气
对自己的食物有超强的管理，每天晚上十点必须吃晚饭，吃完晚饭以后必须吃酸奶，吃完酸奶以后必须擦脸并吃一个奖励小零食`,`ESFJ小猫（仅限在家里）
  每天定时起床巡屋、定时索要除了主粮以外的冻干和罐头以及定时求摸头（不可低于10分钟）
  如果没有在准时看到食物，一般会登上置物架自取，从而展现出了惊人的咬合力，可空口叼起大概1kg的肉干。
不喜欢的乐队：Imagine Dragons（听到会展示出飞机耳，假装自己听不见，和听到大雨声表现一致）
上过两天班，因为不喜欢出门而成为高等游“猫”。`,`许光汉
  618大促小狗
  曾用名阿北
  喜欢甜食和鸡肉
  生父不详所以腿比一般柴要长长长长
  下楼一圈就开嗨和主人一个体力
  被嘲笑独蛋大使但其实是半隐睾啦！
  目前已绝育成为忠实的姐妹团成员`];function so(e){return ro[e]||"unknown"}const D={fonts:{solitreo:"fonts/Solitreo_Regular.json"},media:[{},{audio:"audios/meidi.mp3",video:"videos/meidi-eat.webm",photo:17},{audio:"audios/jojo.m4a",video:"videos/jojo-play.webm",photo:15},{audio:"audios/pupu.m4a",video:"videos/pupu-daze.webm",photo:17},{audio:"audios/tianchengzi.m4a",video:"videos/tianchengzi-eat.webm",photo:10},{video:"videos/xgh.webm",photo:20}],icons:{video:"icons/video.png",audio:"icons/audio.png",photo:"icons/folder.png"},normalMap:{cover:"imgs/textures/cover-normal.png",paper:"imgs/textures/paper-normal.png"},pages:["imgs/bg/cover.png","imgs/bg/meidi.png","imgs/bg/jongjong.png","imgs/bg/pupu.png","imgs/bg/tianchengzi.png","imgs/bg/xgh.png"],decorations:[[{texture:"imgs/dec/cover1.png",parallaxFactor:.2,offset:{x:1.04,y:-.09,z:.016},scale:1.29},{texture:"imgs/dec/cover2.png",parallaxFactor:.1,offset:{x:1.15,y:-.08,z:.015},scale:1.28}],[{texture:"imgs/dec/meidi1.png",parallaxFactor:.2,offset:{x:2,y:-.1,z:.016},scale:1.25},{texture:"imgs/dec/meidi2.png",parallaxFactor:.1,offset:{x:.85,y:-.05,z:.015},scale:1.3}],[{texture:"imgs/dec/jojo1.png",parallaxFactor:.35,offset:{x:2.9,y:-.025,z:.014},scale:1.3},{texture:"imgs/dec/jojo2.png",parallaxFactor:.2,offset:{x:1.5,y:-.15,z:.016},scale:1.2}],[{texture:"imgs/dec/pupu1.png",parallaxFactor:.28,offset:{x:2.2,y:-.1,z:.014},scale:1.2},{texture:"imgs/dec/pupu2.png",parallaxFactor:.23,offset:{x:1.5,y:.2,z:.016},scale:.92}],[{texture:"imgs/dec/tianchengzi1.png",parallaxFactor:.3,offset:{x:2.8,y:-.13,z:.016},scale:1.21},{texture:"imgs/dec/tianchengzi2.png",parallaxFactor:.2,offset:{x:1.4,y:-.5,z:.014},scale:.9}],[{texture:"imgs/dec/xgh1.png",parallaxFactor:.3,offset:{x:2.85,y:-.16,z:.014},scale:1.52},{texture:"imgs/dec/xgh2.png",parallaxFactor:.15,offset:{x:1.29,y:-.07,z:.016},scale:1.25}]]},it={bg:["#52AC6A","#F4CEE8","#88C1EF","#1CB8C7","#D86D1A","#F468AF"]};function ao(e,t=1){const n=new Audio(e);n.volume=t,n.play().catch(i=>{console.error("Error playing audio:",i)})}class lo{overlayElement;videoElement;closeButton;onShow;onClose;constructor(t,n){this.onShow=t,this.onClose=n,this.overlayElement=document.getElementById("video-overlay"),this.videoElement=this.overlayElement.querySelector("video"),this.closeButton=this.overlayElement.querySelector(".close-button"),this.close=this.close.bind(this),this.closeButton.addEventListener("click",this.close),this.overlayElement.addEventListener("click",i=>{i.target===this.overlayElement&&this.close()})}show(t){this.videoElement.src=t,this.overlayElement.classList.remove("opacity-0","pointer-events-none"),this.overlayElement.classList.add("opacity-100","pointer-events-auto"),this.videoElement.play(),this.onShow()}close(){this.videoElement.pause(),this.overlayElement.classList.remove("opacity-100","pointer-events-auto"),this.overlayElement.classList.add("opacity-0","pointer-events-none"),this.onClose()}}const se=Yr(0);class co{scene;camera;container;renderer;videoOverlayManager;group;videoIcon;audioIcon;photoIcon;raycaster=new In;mouse=new Bt;isMobile;isLayoutVertical=!1;pageId="";photoContainer;photos=[];downPos={x:0,y:0};boundHandleDown;boundHandleUp;maxZIndex=11;constructor(t,n,i,r,o){this.scene=t,this.camera=n,this.container=i,this.renderer=r,this.videoOverlayManager=o,this.isMobile=this.container.clientWidth<448,this.group=new Se,this.scene.add(this.group),se.subscribe(s=>{this.update(s)}),this.photoContainer=document.getElementById("photo-overlay-container"),this.photoContainer||console.error("The #photo-overlay-container element was not found in the DOM."),this.boundHandleDown=this.handlePointerDown.bind(this),this.boundHandleUp=this.handlePointerUp.bind(this),r.domElement.addEventListener("pointerdown",this.boundHandleDown,!1),r.domElement.addEventListener("pointerup",this.boundHandleUp,!1)}init(t){const i=new rt(.3,.3);this.isLayoutVertical=!(this.container.clientWidth>this.container.clientHeight*1.2);const r=t.load(D.icons.video);r.colorSpace=Ie,this.videoIcon=new U(i,new Mt({map:r,transparent:!0,opacity:0})),this.group.add(this.videoIcon);const o=t.load(D.icons.audio);o.colorSpace=Ie,this.audioIcon=new U(i.clone(),new Mt({map:o,transparent:!0,opacity:0})),this.group.add(this.audioIcon);const s=t.load(D.icons.photo);s.colorSpace=Ie,this.photoIcon=new U(i.clone(),new Mt({map:s,transparent:!0,opacity:0})),this.group.add(this.photoIcon),this.updatePosition()}prevMediaState={video:!1,audio:!1,photo:!1};update(t){if(!this.videoIcon||!this.audioIcon||!this.photoIcon)return;this.clearAllPhotos(),this.pageId=so(t);const n={video:!!D.media[t]?.video,audio:!!D.media[t]?.audio,photo:!!D.media[t]?.photo},i=(r,o,s,l)=>{!o&&s?(z.fromTo(r.position,{x:r.position.x+.3},{x:r.position.x,duration:.6,delay:l,ease:"power2.out"}),z.to(r.material,{opacity:1,duration:.3,delay:l,ease:"power2.out"})):o&&!s&&(z.to(r.position,{x:r.position.x+.3,duration:.3,delay:l,ease:"power2.in",onComplete:()=>{r.position.x-=.3}}),z.to(r.material,{opacity:0,duration:.3,delay:l,ease:"power2.in"}))};i(this.videoIcon,this.prevMediaState.video,n.video,.1),i(this.audioIcon,this.prevMediaState.audio,n.audio,.2),i(this.photoIcon,this.prevMediaState.photo,n.photo,.3),this.prevMediaState=n}onResize(){this.isMobile=this.container.clientWidth<448,this.updatePosition()}dispose(){this.renderer.domElement.removeEventListener("pointerdown",this.boundHandleDown),this.renderer.domElement.removeEventListener("pointerup",this.boundHandleUp),this.clearAllPhotos(),this.videoIcon?.geometry.dispose(),this.videoIcon?.material instanceof kt&&this.videoIcon.material.dispose(),this.audioIcon?.geometry.dispose(),this.audioIcon?.material instanceof kt&&this.audioIcon.material.dispose(),this.photoIcon?.geometry.dispose(),this.photoIcon?.material instanceof kt&&this.photoIcon.material.dispose(),this.scene.remove(this.group)}clearAllPhotos(){this.photos.forEach(t=>t.remove()),this.photos=[]}showPhoto(t){const n=new Image;n.onload=()=>{const i=n.width/n.height,r=document.createElement("div");r.className="draggable-photo";const o=this.container.clientWidth,s=o<448?.3:o<1024?.2:.1,l=o*s;r.style.width=`${l}px`,r.style.height=`${l/i}px`,r.style.backgroundImage=`url(${t})`,r.style.rotate=`${(Math.random()-.5)*60}deg`;const a=this.container.clientWidth-l,c=this.container.clientHeight-l/i;r.style.left=`${Math.random()*a}px`,r.style.top=`${Math.random()*c}px`,r.style.zIndex=(this.maxZIndex++).toString(),this.photoContainer.appendChild(r),this.photos.push(r),this.makeElementDraggable(r)},n.src=t}makeElementDraggable(t){let n,i,r=!1;t.style.transition="transform 0.3s ease";const o=a=>{r=!0,t.style.zIndex=(this.maxZIndex++).toString(),t.style.transform="scale(1.25)";const c="touches"in a?a.touches[0].clientX:a.clientX,u="touches"in a?a.touches[0].clientY:a.clientY;n=c-t.offsetLeft,i=u-t.offsetTop,document.addEventListener("mousemove",s),document.addEventListener("mouseup",l,{once:!0}),document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("touchend",l,{once:!0})},s=a=>{if(!r)return;"touches"in a&&a.preventDefault();const c="touches"in a?a.touches[0].clientX:a.clientX,u="touches"in a?a.touches[0].clientY:a.clientY;let d=c-n,f=u-i;const p=this.photoContainer.getBoundingClientRect();d=Math.max(-t.clientWidth,Math.min(d,p.width)),f=Math.max(-t.clientHeight,Math.min(f,p.height)),t.style.left=`${d}px`,t.style.top=`${f}px`},l=()=>{r=!1,t.style.transform="scale(1)",document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s)};t.addEventListener("mousedown",o),t.addEventListener("touchstart",o)}updatePosition(){if(!this.videoIcon||!this.audioIcon||!this.photoIcon)return;const t=.25,n=this.container.clientWidth>this.container.clientHeight*1.2;if(n&&!this.isLayoutVertical)this.isLayoutVertical=!0,this.group.position.set(-2.5-t,.35,0),this.group.scale.set(1,1,1),this.videoIcon.position.set(0,.8,0),this.audioIcon.position.set(0,.4,0),this.photoIcon.position.set(0,0,0);else if(!n&&this.isLayoutVertical){this.isLayoutVertical=!1;const i=-3/2-t;this.group.position.set(0,i,0),this.group.scale.set(this.isMobile?1.2:1,this.isMobile?1.2:1,1),this.videoIcon.position.set(-.4,0,0),this.audioIcon.position.set(0,0,0),this.photoIcon.position.set(.4,0,0)}}handleClick(t){if(!this.videoIcon||!this.audioIcon||!this.photoIcon)return;this.mouse.x=t.clientX/this.container.clientWidth*2-1,this.mouse.y=-(t.clientY/this.container.clientHeight)*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);const n=[];if(this.videoIcon.material.opacity>0&&n.push(this.videoIcon),this.audioIcon.material.opacity>0&&n.push(this.audioIcon),this.photoIcon.material.opacity>0&&n.push(this.photoIcon),n.length===0)return;const i=this.raycaster.intersectObjects(n);if(i.length>0){const r=i[0].object;if(r===this.videoIcon)this.videoOverlayManager.show(D.media[st(se)]?.video||"");else if(r===this.audioIcon)ao(D.media[st(se)]?.audio||"");else if(r===this.photoIcon){const o=D.media[st(se)]?.photo||0;if(o>0){const s=Math.floor(Math.random()*o)+1,l=io(`imgs/${this.pageId}/${s}.png`);this.showPhoto(l)}}}}handlePointerDown(t){this.downPos.x=t.clientX,this.downPos.y=t.clientY}handlePointerUp(t){const n=t.clientX-this.downPos.x,i=t.clientY-this.downPos.y;Math.sqrt(n*n+i*i)<5&&this.handleClick(t)}}function $e(){return!1}class Pn extends Mi{constructor(t,n={}){const i=n.font;if(i===void 0)super();else{const r=i.generateShapes(t,n.size);n.depth===void 0&&(n.depth=50),n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(r,n)}this.type="TextGeometry"}}class uo extends ki{constructor(t){super(t)}load(t,n,i,r){const o=this,s=new Pi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,function(l){const a=o.parse(JSON.parse(l));n&&n(a)},i,r)}parse(t){return new fo(t)}}class fo{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,n=100){const i=[],r=ho(t,n,this.data);for(let o=0,s=r.length;o<s;o++)i.push(...r[o].toShapes());return i}}function ho(e,t,n){const i=Array.from(e),r=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,s=[];let l=0,a=0;for(let c=0;c<i.length;c++){const u=i[c];if(u===`
`)l=0,a-=o;else{const d=po(u,r,l,a,n);l+=d.offsetX,s.push(d.path)}}return s}function po(e,t,n,i,r){const o=r.glyphs[e]||r.glyphs["?"];if(!o){console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");return}const s=new Si;let l,a,c,u,d,f,p,h;if(o.o){const v=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let g=0,y=v.length;g<y;)switch(v[g++]){case"m":l=v[g++]*t+n,a=v[g++]*t+i,s.moveTo(l,a);break;case"l":l=v[g++]*t+n,a=v[g++]*t+i,s.lineTo(l,a);break;case"q":c=v[g++]*t+n,u=v[g++]*t+i,d=v[g++]*t+n,f=v[g++]*t+i,s.quadraticCurveTo(d,f,c,u);break;case"b":c=v[g++]*t+n,u=v[g++]*t+i,d=v[g++]*t+n,f=v[g++]*t+i,p=v[g++]*t+n,h=v[g++]*t+i,s.bezierCurveTo(d,f,p,h,c,u);break}}return{offsetX:o.ha*t,path:s}}class vo{textureLoader;constructor(t){this.textureLoader=t}createPage(t){const n=new Se,i=this._createRoundedBoxGeometry(E.pageWidth,E.pageHeight,E.pageDepth,.12,64),r=this.textureLoader.load(D.pages[t]);r.repeat.set(.5,1),r.offset.set(.5,0),r.colorSpace=Ie;const o=this.textureLoader.load(D.pages[(t+1)%E.numPages]);o.colorSpace=Ie,o.repeat.set(.5,1);const s=this.textureLoader.load(D.normalMap.cover),l=this.textureLoader.load(D.normalMap.paper),a=t===0?s:l.clone();a.repeat.set(.5,1),a.offset.set(.5,0);const c=t===E.numPages-1?s:l.clone();c.repeat.set(.5,1);const u={roughness:.4,metalness:0,normalMap:a,normalScale:new Bt(1,3)},d={...u,normalMap:c},f=new U(i,[new B({map:r}),new B({map:o}),new B({map:o}),new B({map:r}),new B({...u,map:r}),new B({...d,map:o})]);f.position.x=E.pageWidth/2,n.add(f);const p=this._createDecorations(t,f.position.z);return n.position.z=(E.numPages-t)*E.pageDepth,{page:n,decorations:p}}_createDecorations(t,n){const i=D.decorations[t]||[],r=[],o=new rt(1,1);return i.forEach(s=>{const l=s.scale??1,a=this.textureLoader.load(s.texture,d=>{d.colorSpace=Ie;const f=d.image.width/d.image.height,p=E.pageHeight*.75*l,h=p*f;c.geometry=new rt(h,p),u.geometry=new rt(h,p)}),c=new U(o.clone(),new B({map:a,alphaTest:.01,transparent:!0,clippingPlanes:[new fe(new I(-1,0,0),E.pageWidth-.015),new fe(new I(1,0,0),.01),new fe(new I(0,-1,0),E.pageHeight/2),new fe(new I(0,1,0),E.pageHeight/2)].map(d=>d.clone())}));c.position.set(-2.5,s.offset?.y||0,n+(s.offset?.z||0));const u=new U(o.clone(),new B({map:a,alphaTest:.01,transparent:!0,clippingPlanes:[new fe(new I(-1,0,0),.01),new fe(new I(1,0,0),E.pageWidth-.015),new fe(new I(0,-1,0),E.pageHeight/2),new fe(new I(0,1,0),E.pageHeight/2)].map(d=>d.clone())}));u.position.set(E.pageWidth,s.offset?.y||0,n-(s.offset?.z||0)),u.rotation.y=Math.PI,r.push({front:c,back:u,...s})}),r}_createRoundedBoxGeometry(t,n,i,r,o){const s=new At(t,n,i,o,o,o),l=s.attributes.position,a=new I,c=t/2-r,u=n/2-r;for(let d=0;d<l.count;d++)if(a.fromBufferAttribute(l,d),a.x>c&&Math.abs(a.y)>u){const f=new I(c,Math.sign(a.y)*u,a.z),p=new I().subVectors(a,f);if(p.length()>r){p.setLength(r);const h=f.add(p);l.setXYZ(d,h.x,h.y,h.z)}}return s.computeVertexNormals(),s}}Di.enabled=!0;class go{container;scene;camera;renderer;book=new Se;pages=[];decorationPairs=[];ambientLight=new Ii(16777215,1.8);directionalLights=[];homeGroup=null;videoOverlayManager;iconManager;loadingManager;renderable=!1;perSegment=1/E.numPages;lastBgUpdate=0;isMobile;maxPixelRatio=/iPhone|iPad|iPod/i.test(navigator.userAgent)?3:2;normalCameraZ=6;closedCameraZ=4;initialCameraOffset=$e()?new I(0,0,0):new I(4,-4,0);initialCameraUp=$e()?new I(0,1,0):new I(-2,3,3);openingAnimationStatus=$e()?"played":"none";raycaster=new In;mouse=new Bt;isFluttering=!1;constructor(t){this.container=t,this.isMobile=t.clientWidth<448,this.scene=new Ti,this.scene.add(this.book),this.camera=new Li(45,t.clientWidth/t.clientHeight,.1,1e3),this.renderer=new Ai({antialias:!0,alpha:!0,logarithmicDepthBuffer:!1}),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,this.maxPixelRatio)),this.loadingManager=new Hi,this.videoOverlayManager=new lo(()=>{},()=>{}),this.iconManager=new co(this.scene,this.camera,this.container,this.renderer,this.videoOverlayManager),this.renderer.setSize(t.clientWidth,t.clientHeight),this.renderer.toneMapping=zi,this.renderer.localClippingEnabled=!0,this.renderer.setClearColor(it.bg[0]),this.container.appendChild(this.renderer.domElement),this.setUpLight(),this.setupLoadingManager(),this.setUpPositionAndRotation(),this.setupHoverInteraction(),window.addEventListener("resize",()=>this.handleResize())}setupLoadingManager(){const t=document.getElementById("loading-overlay"),n=document.getElementById("loading-bar");if(!t||!n){console.error("Loading screen elements not found in the DOM.");return}this.loadingManager.onProgress=(i,r,o)=>{const s=r/o;n.style.width=`${s*100}%`},this.loadingManager.onLoad=()=>{n.classList.add("done"),setTimeout(()=>{this.renderable=!0},200),z.to(t,{opacity:0,duration:.3,delay:.3,onComplete:()=>{t.style.visibility="hidden"}})}}setUpLight(){this.scene.add(this.ambientLight);const t=new Fi(16777215,.6);t.position.set(0,0,8),this.scene.add(t),this.directionalLights.push(t)}setupLightControls(){$e()&&to(()=>import("./lil-gui.esm-DFUWXXp-.js"),[],import.meta.url).then(t=>{const i=new t.GUI({autoPlace:!0}).addFolder("Lighting"),r=i.addFolder("Ambient Light");r.addColor({color:"#ffffff"},"color").onChange(s=>{this.ambientLight.color.set(s)}),r.add(this.ambientLight,"intensity",0,4,.01);const o=i.addFolder("Directional Lights");this.directionalLights.forEach((s,l)=>{const a=o.addFolder(`Light ${l+1}`);a.addColor({color:"#ffffff"},"color").onChange(c=>{s.color.set(c)}),a.add(s,"intensity",0,4,.01),a.add(s.position,"x",-10,50,.1),a.add(s.position,"y",-10,50,.1),a.add(s.position,"z",-10,50,.1)})})}setupHoverInteraction(){this.renderer.domElement.addEventListener("mousemove",this._onMouseMove.bind(this),!1)}_onMouseMove(t){if(this.openingAnimationStatus!=="none"||this.isFluttering||this.isMobile)return;const n=this.renderer.domElement.getBoundingClientRect();this.mouse.x=(t.clientX-n.left)/n.width*2-1,this.mouse.y=-((t.clientY-n.top)/n.height)*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);const i=this.pages[0];this.raycaster.intersectObject(i,!0).length>0&&this._playFlutterAnimation()}_playFlutterAnimation(){if(this.isFluttering)return;this.isFluttering=!0;const t=this.pages[0],n=t.rotation.y;z.timeline({onComplete:()=>{this.isFluttering=!1,t.rotation.y=n}}).to(t.rotation,{keyframes:[{y:n-.25,duration:.1,ease:"power2.out"},{y:n-.1,duration:.1,ease:"power2.out"},{y:n-.2,duration:.1,ease:"power2.out"},{y:n-.05,duration:.15,ease:"power2.out"},{y:n,duration:.3,ease:"power1.out"}]})}setUpPositionAndRotation(){this.camera.position.add(this.initialCameraOffset),this.camera.up.copy(this.initialCameraUp),this.handleResize(),this.camera.lookAt($e()?new I(0,0,0):this.isMobile?new I(1.2,0,0):new I(-1,2,-3.5))}async init(){const t=new Ri(this.loadingManager),n=new uo(this.loadingManager),i=new vo(t);this._createHomeMesh(n);for(let r=0;r<E.numPages;r++){const{page:o,decorations:s}=i.createPage(r);this.book.add(o),this.pages.push(o),this.decorationPairs[r]=s,s.forEach(l=>{o.add(l.front),this.pages[r-1]?.add(l.back)})}this.iconManager.init(t),this.update(0)}render(){this.renderable&&this.renderer.render(this.scene,this.camera)}playOpeningAnimation(){if(this.openingAnimationStatus!=="none")return;this.openingAnimationStatus="playing";const t=this.getCameraTargetY(),n={x:E.pageWidth/2,y:t,z:this.isMobile?this.closedCameraZ:this.normalCameraZ},i=new I(E.pageWidth/2,t,0),r=new I(0,1,0),o=this.camera.getWorldDirection(new I).clone().add(this.camera.position),s=this.camera.up.clone(),l=z.timeline({onComplete:()=>{this.openingAnimationStatus="played"},onUpdate:()=>{this.camera.lookAt(o),this.camera.up.copy(s)},defaults:{duration:2.5,ease:"power3.inOut"}}),a=0;l.to(this.camera.position,{...n},a),l.to(o,{...i},a),l.to(s,{...r},a),this.homeGroup?.children.forEach(c=>{c.children.forEach(u=>{u instanceof U&&(u.name==="douban"||u.name==="zoo")&&l.to(u.rotation,{x:-Math.PI/2},a)})})}get openingAnimationPlayed(){return this.openingAnimationStatus==="played"}update(t){if(!this.pages.length||!this.openingAnimationPlayed&&t>0)return;this.updateBgColor(t);const n=this.perSegment,i=[],r=t/n;t>0&&t<n&&(this.camera.position.x=cn.lerp(E.pageWidth/2,0,r),this.isMobile&&(this.camera.position.z=cn.lerp(this.closedCameraZ,this.normalCameraZ,r)),this.homeGroup?.children.forEach(o=>{o.children.forEach(s=>{s instanceof U&&(s.material.opacity=1-r*2,s.material.opacity<=.01&&(s.visible=!1))})})),se.set(Math.round(r));for(let o=0;o<E.numPages;o++){const s=this.pages[o],l=o*n,a=Math.max(0,Math.min(1,r-l/n)),c=-a*Math.PI;i.push(c),s.rotation.y=c,s.position.z=o<r?(o-r+1)*E.pageDepth*a:(r-o)*E.pageDepth*(1-a);const u=(o-2)*n,d=(o+2)*n;if(t>0&&t<u||t>d){s.visible=!1;continue}s.visible=!0;const f=this.decorationPairs[o];if(!f||f.length===0)continue;const p=(o-.8)*n,h=(o+.8)*n,v=t>p&&t<h,y=(i[o-1]||0)+Math.PI,_=i[o],P=y+_-Math.PI;f.forEach(x=>{if(x.front.visible=v,x.back.visible=v,!v)return;const w=P*E.pageWidth*x.parallaxFactor;x.front.position.x=x.offset.x+w,x.back.position.x=-x.offset.x-w})}}getCameraTargetY(){const t=this.container.clientWidth,n=this.container.clientHeight,o=E.pageWidth*2/.95/this.camera.aspect;return n<t?0:-.23*(o-E.pageHeight)}updateBgColor(t){const n=performance.now();if(n-this.lastBgUpdate<16)return;this.lastBgUpdate=n;const i=it.bg.length,r=t*i,o=Math.floor(r)%i,s=(o+1)%i,l=r-Math.floor(r),a=new Pt(it.bg[o]),c=new Pt(it.bg[s]),u=a.clone().lerp(c,l);this.renderer.setClearColor(u),this.setColorVariable(u)}setColorVariable(t){const n={h:0,s:0,l:0};t.getHSL(n);let i=t;n.l>.5&&(i=new Pt().setHSL(n.h,n.s-.1,.6*n.l)),document.documentElement.style.setProperty("--bgColor",t.getStyle()),document.documentElement.style.setProperty("--textColor",i.getStyle())}handleResize(){const t=this.container.clientWidth,n=this.container.clientHeight;this.renderer.setSize(t,n),this.camera.aspect=t/n;const r=E.pageWidth*2/.95,o=this.camera.fov*(Math.PI/180);let l=r/this.camera.aspect/(2*Math.tan(o/2));const a=6;this.normalCameraZ=Math.max(l,a),this.isMobile?(this.closedCameraZ=this.normalCameraZ*.75,this.camera.position.z=this.closedCameraZ):this.camera.position.z=this.normalCameraZ,this.openingAnimationPlayed&&(this.camera.position.y=this.getCameraTargetY()),this.camera.updateProjectionMatrix(),this.iconManager.onResize()}dispose(){this.pages.length=0,this.decorationPairs.length=0,this.iconManager.dispose(),this.renderer.dispose(),this.renderer.domElement&&this.container.contains(this.renderer.domElement)&&this.container.removeChild(this.renderer.domElement),this.scene=null,this.camera=null}_createHomeMesh(t){t.load(D.fonts.solitreo,n=>{this.homeGroup=new Se;const i=new At(1.3,.4,.4),r=new B({color:16376684,roughness:.1,transparent:!0,opacity:1}),o=new U(i,r),s=new Se;s.add(o);const l=new Pn("Zoo",{font:n,size:.6,depth:.05,curveSegments:12});l.center();const a=new B({color:16621417,roughness:.2,transparent:!0}),c=new U(l,a);c.name="zoo",c.position.z+=.1,s.add(c),this.isMobile?(s.position.set(E.pageWidth,.2,E.pageHeight*.8),s.rotation.y=-Math.PI/2):(s.position.set(E.pageWidth*.5,0,0),s.rotation.y=-Math.PI/12),this.homeGroup.add(s);const u=new At(2.3,.4,.4),d=new B({color:16760670,roughness:.2,transparent:!0,opacity:1}),f=new U(u,d),p=new Se;p.add(f);const h=new Pn("Douban",{font:n,size:.5,depth:.05,curveSegments:12});h.center();const v=new B({color:15728558,roughness:.1,transparent:!0}),g=new U(h,v);g.name="douban",g.position.z+=.1,g.position.x-=.1,p.add(g),this.isMobile?(p.position.set(E.pageWidth/2,0,0),p.rotation.x=-Math.PI/16):(p.position.set(-2.5/3,0,0),p.rotation.y=Math.PI/16),this.homeGroup.add(p),this.homeGroup.position.x=-2.5*.3,this.homeGroup.scale.set(.8,.8,.8),this.homeGroup.rotation.set(Math.PI/2,Math.PI/2,0),this.book.add(this.homeGroup);const y=10,m=P=>P.parameters.height/2+.4;o.position.y=y,f.position.y=y,c.position.y=y+m(i),g.position.y=y+m(u);const _=z.timeline({defaults:{duration:1,ease:"bounce.out"}});_.to(o.position,{y:0},0),_.to(f.position,{y:0},.3),_.to(c.position,{y:m(i)},1.2),_.to(g.position,{y:m(u)},1.4)})}}var mo=re('<div class="cursor-grab touch-none w-screen min-w-screen h-[100dvh] select-none" role="slider" aria-valuemin="0" aria-valuemax="1" tabindex="0"></div>');function _o(e,t){yt(t,!1);let n=Q(),i=null,r=Q(0),o={value:0},s=!1,l=0,a=0,c=0,u=0,d=0,f;ln(()=>{if(!b(n))return;i=new go(b(n));let m;const _=()=>{m=requestAnimationFrame(_),i?.render()};return i.init().then(()=>{_()}),f=new ResizeObserver(()=>{i?.handleResize()}),f.observe(b(n)),()=>{f&&f.disconnect(),cancelAnimationFrame(m),i?.dispose()}});function p(m){A(r,m),i?.update(m)}function h(m){if(!i?.openingAnimationPlayed){i?.playOpeningAnimation();return}z.killTweensOf(o),s=!0,l=m.clientX,a=b(r),d=m.clientX,u=performance.now(),c=0}function v(m){if(!s)return;const _=m.clientX,P=performance.now(),x=m.movementX||_-d,w=P-u;w>0&&(c=x/w),u=P,d=_;const T=-(_-l)/b(n).clientWidth*E.dragSensitivity,R=Math.max(0,Math.min(1,a+T));p(R)}function g(){if(!s)return;s=!1;const m=1/E.numPages,_=b(r)/m;let x=-c*.6;x=Math.max(-3,Math.min(3,x));let w=Math.round(_+x);w=Math.max(0,Math.min(E.numPages,w));const M=w*m;o.value=b(r),z.to(o,{value:M,duration:E.snapDuration+Math.abs(x),ease:"power3.out",onUpdate:()=>{p(o.value)}})}wi();var y=mo();_i(y,m=>A(n,m),()=>b(n)),dt(()=>gi(y,"aria-valuenow",b(r))),he("pointerdown",y,h),he("pointermove",y,v),he("pointerup",y,g),he("pointerleave",y,g),he("pointercancel",y,g),he("lostpointercapture",y,g),j(e,y),bt()}const wo=e=>e;function yo(e){const t=e-1;return t*t*t+1}function Sn(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Ei(e,{delay:t=0,duration:n=400,easing:i=wo}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:o=>`opacity: ${o*r}`}}function bo(e,{delay:t=0,duration:n=400,easing:i=yo,x:r=0,y:o=0,opacity:s=0}={}){const l=getComputedStyle(e),a=+l.opacity,c=l.transform==="none"?"":l.transform,u=a*(1-s),[d,f]=Sn(r),[p,h]=Sn(o);return{delay:t,duration:n,easing:i,css:(v,g)=>`
			transform: ${c} translate(${(1-v)*d}${f}, ${(1-v)*p}${h});
			opacity: ${a-u*g}`}}var xo=re(`<div class="fixed bottom-1 px-2 md:px-5 w-full flex font-serif items-center justify-between text-white/50"><div class="flex items-center text-sm gap-1 md:gap-2"><span class="text-black/30">Douban Zoo</span> <a href="https://piggy.lol" target="_blank" rel="noopener noreferrer">by Yanxin</a></div> <div class="text-xs text-center whitespace-pre-line hidden md:block max-w-md mb-[2px]">If you are a ( former ) Douban employee and would like your pet
      to be featured on the site, please reach out to <a href="mailto:anigiscur@gmail.com">Yanxin</a>.</div> <div class="text-[0.65rem] text-center font-serif block md:hidden">豆发（2005）第 008 号</div> <div class="flex items-center text-sm gap-1 md:gap-2"><span class="text-black/30">Share to</span> <a target="_blank" rel="noopener noreferrer">Douban</a></div></div>`);function Eo(e,t){yt(t,!1);const[n,i]=xi(),r=()=>bi(se,"$currentPage",n),o=Q();Be(()=>r(),()=>{A(o,r()>=0)}),Qn();var s=hi(),l=ot(s);{var a=c=>{var u=xo(),d=te(J(u),6),f=te(J(d),2);gi(f,"href",me(()=>`https://www.douban.com/share/service?href=${encodeURIComponent(window.location.href)}&name=${encodeURIComponent("Douban Zoo - A 3D interactive experience of Douban pets yearbook")}&image=${encodeURIComponent("https://douban-zoo.github.io/imgs/bg/cover.png")}`)),Wt(3,u,()=>Ei,()=>({duration:200})),j(c,u)};Nt(l,c=>{b(o)&&c(a)})}j(e,s),bt(),i()}var Co=re(`<div id="video-overlay" class="
  fixed inset-0 w-full h-full bg-black/20
  filter backdrop-blur-sm
  flex justify-center items-center
  z-50 opacity-0 pointer-events-none
  transition-opacity duration-300 ease-in-out
"><div class="relative w-11/12 max-w-3xl overflow-hidden"><button class="
      close-button
      absolute top-2 right-2 w-6 h-6 rounded-full bg-white text-[var(--textColor)]
      flex items-center justify-center
      text-xl font-bold cursor-pointer shadow-lg
      transition-transform duration-200 ease-in-out hover:scale-110
    ">&times;</button> <video class="w-[80%] lg:w-[60%] mt-2 h-auto block mx-auto rounded-xl" playsinline="" loop autoplay></video></div></div>`,2);function Mo(e){var t=Co();j(e,t)}const ko=`<svg viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.75 47.6428H33.75V45.991H3.75V47.6428Z" fill="currentColor"/>
<path d="M9.375 54.25H39.375V52.5982H9.375V54.25Z" fill="currentColor"/>
<path d="M45 45.9911V14.6072H43.125V45.9911H45Z" fill="currentColor"/>
<path d="M11.25 45.9911L11.25 14.6072H9.375L9.375 45.9911H11.25Z" fill="currentColor"/>
<path d="M45 45.9911H43.125V49.2947C43.125 50.1708 42.7299 51.0111 42.0266 51.6306C41.3234 52.2502 40.3696 52.5982 39.375 52.5982H37.5V54.25H39.375C40.8668 54.25 42.2976 53.7279 43.3525 52.7986C44.4074 51.8693 45 50.6089 45 49.2947V45.9911Z" fill="currentColor"/>
<path d="M31.875 47.6428H33.75V49.2946C33.75 50.1708 34.1451 51.011 34.8484 51.6306C35.5516 52.2501 36.5054 52.5982 37.5 52.5982H39.375V54.25H37.5C36.0082 54.25 34.5774 53.7279 33.5225 52.7986C32.4676 51.8693 31.875 50.6089 31.875 49.2946V47.6428Z" fill="currentColor"/>
<path d="M3.75 47.6428H5.625V49.2946C5.625 50.1708 6.02009 51.011 6.72335 51.6306C7.42661 52.2501 8.38044 52.5982 9.375 52.5982H11.25V54.25H9.375C7.88316 54.25 6.45242 53.7279 5.39752 52.7986C4.34263 51.8693 3.75 50.6089 3.75 49.2946V47.6428Z" fill="currentColor"/>
<path d="M56.25 14.6072H45V16.259H56.25V14.6072Z" fill="currentColor"/>
<path d="M50.625 8H15V9.65179H50.625V8Z" fill="currentColor"/>
<path d="M9.375 14.6071H11.25V12.9554C11.25 12.0792 11.6451 11.2389 12.3483 10.6194C13.0516 9.99984 14.0054 9.65179 15 9.65179H16.875V8H15C13.5082 8 12.0774 8.52208 11.0225 9.45139C9.96763 10.3807 9.375 11.6411 9.375 12.9554V14.6071Z" fill="currentColor"/>
<path d="M43.125 14.6071H45V12.9554C45 12.0792 45.3951 11.2389 46.0984 10.6194C46.8016 9.99984 47.7554 9.65179 48.75 9.65179H50.625V8H48.75C47.2582 8 45.8274 8.52208 44.7725 9.45139C43.7176 10.3807 43.125 11.6411 43.125 12.9554V14.6071Z" fill="currentColor"/>
<path d="M56.25 14.6071H54.375V12.9554C54.375 12.0792 53.9799 11.2389 53.2766 10.6194C52.5734 9.99984 51.6196 9.65179 50.625 9.65179H48.75V8H50.625C52.1168 8 53.5476 8.52208 54.6025 9.45139C55.6574 10.3807 56.25 11.6411 56.25 12.9554V14.6071Z" fill="currentColor"/>
<path d="M16.0339 19.0679C16.0339 18.7981 16.1411 18.5395 16.3318 18.3488C16.5225 18.158 16.7812 18.0509 17.0509 18.0509H35.356C35.6257 18.0509 35.8843 18.158 36.0751 18.3488C36.2658 18.5395 36.3729 18.7981 36.3729 19.0679C36.3729 19.3376 36.2658 19.5962 36.0751 19.7869C35.8843 19.9777 35.6257 20.0848 35.356 20.0848H17.0509C16.7812 20.0848 16.5225 19.9777 16.3318 19.7869C16.1411 19.5962 16.0339 19.3376 16.0339 19.0679ZM17.0509 28.2204H35.356C35.6257 28.2204 35.8843 28.1133 36.0751 27.9225C36.2658 27.7318 36.3729 27.4732 36.3729 27.2034C36.3729 26.9337 36.2658 26.6751 36.0751 26.4844C35.8843 26.2936 35.6257 26.1865 35.356 26.1865H17.0509C16.7812 26.1865 16.5225 26.2936 16.3318 26.4844C16.1411 26.6751 16.0339 26.9337 16.0339 27.2034C16.0339 27.4732 16.1411 27.7318 16.3318 27.9225C16.5225 28.1133 16.7812 28.2204 17.0509 28.2204ZM17.0509 36.356H26.2034C26.4731 36.356 26.7318 36.2488 26.9225 36.0581C27.1132 35.8674 27.2204 35.6087 27.2204 35.339C27.2204 35.0693 27.1132 34.8107 26.9225 34.6199C26.7318 34.4292 26.4731 34.3221 26.2034 34.3221H17.0509C16.7812 34.3221 16.5225 34.4292 16.3318 34.6199C16.1411 34.8107 16.0339 35.0693 16.0339 35.339C16.0339 35.6087 16.1411 35.8674 16.3318 36.0581C16.5225 36.2488 16.7812 36.356 17.0509 36.356Z" fill="currentColor"/>
</svg>
`,Po=`<?xml version="1.0" encoding="utf-8"?>
<svg fill="currentColor" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <path class="clr-i-outline clr-i-outline-path-1" d="M19.41,18l8.29-8.29a1,1,0,0,0-1.41-1.41L18,16.59,9.71,8.29A1,1,0,0,0,8.29,9.71L16.59,18,8.29,26.29a1,1,0,1,0,1.41,1.41L18,19.41l8.29,8.29a1,1,0,0,0,1.41-1.41Z"></path>
    <rect x="0" y="0" width="36" height="36" fill-opacity="0"/>
</svg>`;var So=re('<span class="pl-3">•&nbsp;</span> ',1),Io=re(`<div class="fixed top-0 left-0 w-full bg-white/80 backdrop-blur-sm shadow-xs z-10 h-8 flex items-center
             [mask-image:linear-gradient(to_right,transparent,white_65%,white)]
            [-webkit-mask-image:linear-gradient(to_right,transparent,white_65%,white)]
            md:[mask-image:linear-gradient(to_right,transparent,white_50%,white)]
            md:[-webkit-mask-image:linear-gradient(to_right,transparent,white_50%,white)]
           [mask-repeat:no-repeat]
           [mask-size:100%_100%]
           [-webkit-mask-repeat:no-repeat]
           [-webkit-mask-size:100%_100%]"><div class="relative overflow-hidden flex-1 h-full ml-2 -mr-1"><div class="absolute whitespace-nowrap text-sm lg:text-base will-change-transform top-0 left-36 lg:left-48 h-full flex items-center"></div></div> <button class="w-7 cursor-pointer z-20"><!></button> <button class="w-8 cursor-pointer"><!></button></div>`),To=re("<p> </p>"),Lo=re('<div class="fixed inset-0 z-50 bg-black/60 flex items-center justify-center backdrop-blur-lg will-change-transform will-change-opacity" id="wiki-modal"><div class="rounded-lg px-4 md:px-20 text-[var(--textColor)] text-center overflow-y-auto py-6 max-h-[90vh]"><div class="space-y-4 text-2xl lg:text-4xl leading-9 md:leading-14 font-sans italic"></div></div></div>'),Ao=re("<!> <!>",1);function Ho(e,t){yt(t,!1);const[n,i]=xi(),r=()=>bi(se,"$currentPage",n),o=Q();let s=Q(!0),l=Q(!1),a=Q([]),c,u=Q();async function d(){if(!b(u))return;z.killTweensOf(b(u)),await z.delayedCall(.02,()=>{});const _=b(u).scrollWidth/2,P=b(u).parentElement?.clientWidth||0;if(_<=P){z.set(b(u),{x:0});return}z.set(b(u),{x:0}),c=z.to(b(u),{x:-_,duration:_/60,ease:"linear",repeat:-1,force3D:!0,roundProps:"x"})}ln(()=>(document.addEventListener("click",f),setTimeout(d,50),()=>{document.removeEventListener("click",f)})),Xr(()=>{c&&c.kill()});function f(m){const _=window.getSelection()?.toString();b(l)&&m.target.closest("#wiki-modal")&&!_&&A(l,!1)}Be(()=>r(),()=>{A(o,oo[r()]?.trim()||"")}),Be(()=>b(o),()=>{A(a,b(o)?b(o).split(`
`).map(m=>m.trim()):[])}),Be(()=>(b(o),b(u),z),()=>{b(o)&&b(u)&&(z.killTweensOf(b(u)),d())}),Be(()=>se,()=>{se||(A(s,!1),A(l,!1))}),Qn(),wi();var p=Ao(),h=ot(p);{var v=m=>{var _=Io(),P=J(_),x=J(P);Tt(x,4,()=>Array(2),It,(_e,Oe)=>{var G=hi(),tt=ot(G);Tt(tt,1,()=>b(a),It,(Ne,we)=>{var Me=So(),Ct=te(ot(Me));dt(()=>yn(Ct,` ${b(we)??""}`)),j(Ne,Me)}),j(_e,G)}),_i(x,_e=>A(u,_e),()=>b(u));var w=te(P,2),M=J(w);bn(M,()=>ko);var T=te(w,2),R=J(T);bn(R,()=>Po),he("click",w,()=>A(l,!0)),he("click",T,()=>A(s,!1)),j(m,_)};Nt(h,m=>{b(s)&&b(o)&&m(v)})}var g=te(h,2);{var y=m=>{var _=Lo(),P=J(_),x=J(P);Tt(x,5,()=>b(a),It,(w,M)=>{var T=To(),R=J(T);dt(()=>yn(R,b(M))),j(w,T)}),Wt(3,P,()=>bo,()=>({y:20,duration:200})),Wt(3,_,()=>Ei,()=>({duration:200})),j(m,_)};Nt(g,m=>{b(l)&&m(y)})}j(e,p),bt(),i()}var zo=re('<div id="loading-overlay"><div class="loading-container"><div id="loading-bar"></div></div></div>');function Fo(e){var t=zo();j(e,t)}var Ro=re('<main class="w-screen overflow-hidden h-screen text-[var(--textColor)]"><!> <!> <div id="photo-overlay-container"></div> <!> <!> <!></main>');function Do(e){var t=Ro(),n=J(t);Ho(n,{});var i=te(n,2);Mo(i);var r=te(i,4);Fo(r);var o=te(r,2);_o(o,{});var s=te(o,2);Eo(s,{}),j(e,t)}Rr(Do,{target:document.getElementById("app")});
